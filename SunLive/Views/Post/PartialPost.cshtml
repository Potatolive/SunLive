@model Sunlive.Entities.FanPost

@{
    Layout = null;
    var item = Model;
}
            @if (!string.IsNullOrEmpty(item.ImageURL))
            {
                item.PublishedOn = item.PublishedOn.ToLocalTime();
                string newImgUrl = item.ImageURL;

                //if (!string.IsNullOrEmpty(item.CroppedImageURL))
                //{
                //    newImgUrl = item.CroppedImageURL;
                //}

<div id="item_@item._id" class="span3 item @item.Status grid-item">
    <p class="number "></p>
    <div class="picture">
        <div style="margin-bottom: 5px">
            <span><i class="icon-calendar"></i>@Html.DisplayFor(modelItem => item.PublishedOn)</span>
            <span class="pull-right"><i class="icon-user"></i> <a href="#">@Html.Raw(item.PublishedBy.Split(' ')[0])</a></span>
        </div>


  <div class="image" onmouseover="javascript:cropImage('@item._id'); return true;">
            <img id="img_@item._id" class="imgforapproval" src="@newImgUrl" alt="" />
        </div>


        <div class="meta">

            <form id="form_crop_image_@item._id">
                <input hidden id="crop_image_id_@item._id" name="ImgId" value="@item._id" />
                <input hidden id="X_@item._id" name="X" />
                <input hidden id="Y_@item._id" name="Y" />
                <input hidden id="W_@item._id" name="W" />
                <input hidden id="H_@item._id" name="H" />
                <input hidden id="imageWidth_@item._id" name="imageWidth" value="0" />
                <input hidden id="imageHeight_@item._id" name="imageHeight" value="0" />

                <button id="crop_@item._id" imaageid="@item._id" type="button" class="btn btn-warning btn-xs pull-right cropButton">
                    <span class="glyphicon glyphicon-repeat" aria-hidden="true"></span> Crop
                </button>
                <button id="revert_@item._id" imaageid="@item._id" type="button" class="btn btn-warning btn-xs pull-right hidden revertButton">
                    <span class="glyphicon glyphicon-edit" aria-hidden="true"></span> Revert
                </button>
            </form>


            <div class="clearfix"></div>
        </div>
        <div class="description">
            <p>
                @if (item.TextContent.Length > 140)
                {
                    @Html.Raw(item.TextContent.Substring(0, 140) + " ...")
                }
                else
                {
                    @Html.Raw(item.TextContent)
                }
            </p>
        </div>
        <div class="meta">
            <div class="pull-right">
                <button type="button" class="btn btn-danger btn-xs ">
                    <span class="glyphicon glyphicon-remove" aria-hidden="true"></span> Reject
                </button>
                <button type="button" class="btn btn-success btn-xs ">
                    <span class="glyphicon glyphicon-ok" aria-hidden="true"></span> Approve
                </button>
            </div>
            <div class="clearfix"></div>
        </div>


    </div>
</div>


            }